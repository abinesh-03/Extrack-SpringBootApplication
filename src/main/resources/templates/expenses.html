<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<link th:href="@{/css/app.css}" rel="stylesheet" />
<title>Expenses</title>
</head>
<body>
  <nav>
<a th:href="@{/dashboard}">Dashboard</a>
<a th:href="@{/expenses}">Expenses</a>
<a th:href="@{/budgets}">Budgets</a>
<a th:href="@{/reports/pdf}">PDF</a>
<a th:href="@{/reports/excel}">Excel</a>
<a th:href="@{/logout}">Logout</a>
</nav>

<h2 class="appdata">Expenses</h2>
<form method="get" class="row">
<input type="text" name="category" placeholder="Category" th:value="${filter.category}"/>
<select name="type">
<option th:value="''">Any</option>
<option th:each="t : ${types}" th:value="${t}" th:text="${t}" th:selected="${filter.type} == ${t}"></option>
</select>
<input type="number" step="0.01" name="minAmount" placeholder="Min" th:value="${filter.minAmount}"/>
<input type="number" step="0.01" name="maxAmount" placeholder="Max" th:value="${filter.maxAmount}"/>
<input type="date" name="from" th:value="${filter.from}"/>
<input type="date" name="to" th:value="${filter.to}"/>
<button type="submit">Filter</button>
s<a th:href="@{/reports/pdf}" class="btn" >PDF</a>
<a th:href="@{/reports/excel}" class="btn">Excel</a>
</form>


<form method="post" th:object="${newExpense}">
<input type="text" name="title" placeholder="Title" required />
<input type="number" step="0.01" name="amount" placeholder="Amount" required />
<input type="text" name="category" placeholder="Category" required />
<select name="type">
<option value="EXPENSE">EXPENSE</option>
<option value="INCOME">INCOME</option>
</select>
<input type="date" name="date" />
<input type="text" name="description" placeholder="Description" />
<button type="submit">Add</button>
</form>


<table>
<thead><tr><th>Date</th><th>Title</th><th>Category</th><th>Type</th><th>Amount</th><th></th></tr></thead>
<tbody>
<tr th:each="e : ${items}">
<td th:text="${e.date}"></td>
<td th:text="${e.title}"></td>
<td th:text="${e.category}"></td>
<td th:text="${e.type}"></td>
<td th:text="${e.amount}"></td>
<td>
<form th:action="@{'/expenses/' + ${e.id} + '/delete'}" method="post"><button>Delete</button></form>
</td>
</tr>
</tbody>
</table>
</body>
</html>